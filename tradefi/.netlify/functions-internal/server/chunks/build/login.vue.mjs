import{_ as e}from"./Card.vue.mjs";import{_ as l,a}from"./Input.vue.mjs";import{d as t,e as o,a as s,b as r}from"./server.mjs";import{defineComponent as i,ref as d,mergeProps as u,withCtx as n,unref as c,isRef as p,createVNode as m,createTextVNode as v,toDisplayString as b,withModifiers as g,createBlock as h,createCommentVNode as y,openBlock as x,useSSRContext as f}from"vue";import{ssrRenderAttrs as w,ssrRenderComponent as V,ssrInterpolate as k,ssrIncludeBooleanAttr as $}from"vue/server-renderer";import"reka-ui";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"@iconify/utils";import"node:crypto";import"consola";import"node:url";import"ipx";import"node:fs";import"node:path";import"vue-router";import"@supabase/ssr";import"@iconify/vue";import"tailwindcss/colors";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"unhead/utils";import"devalue";import"@vueuse/core";import"tailwind-variants";import"@iconify/utils/lib/css/icon";const _=i({__name:"login",__ssrInlineRender:!0,setup(i){const f=t(),_=o(),U=s(),C=d(!0),S=d(""),z=d(""),A=d(""),I=d(!1),P=d(!1),j=d(""),q=d("");function toggleMode(){C.value=!C.value,j.value="",q.value="",A.value=""}async function handleSubmit(){if(j.value="",q.value="",S.value&&z.value)if(C.value||z.value===A.value)if(z.value.length<6)j.value="Password must be at least 6 characters";else{P.value=!0;try{if(C.value){const{data:e,error:l}=await f.auth.signInWithPassword({email:S.value,password:z.value});if(l)return void(j.value=l.message);e.user&&(U.add({title:"Welcome back!",description:"Successfully signed in.",icon:"i-heroicons-check-circle",color:"success"}),await _.push("/"))}else{const{data:e,error:l}=await f.auth.signUp({email:S.value,password:z.value});if(l)return void(j.value=l.message);e.user&&(q.value="Account created! Please check your email to verify your account.",U.add({title:"Account created!",description:"Please check your email to verify your account.",icon:"i-heroicons-check-circle",color:"success"}),S.value="",z.value="",A.value="",setTimeout((()=>{C.value=!0,q.value=""}),2e3))}}catch(e){j.value=e.message||"An unexpected error occurred"}finally{P.value=!1}}else j.value="Passwords do not match";else j.value="Please fill in all fields"}return(t,o,s,i)=>{const d=e,f=l,_=a,U=r;o(`<div${w(u({class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 px-4"},i))}><div class="w-full max-w-md"><div class="text-center mb-8"><h1 class="text-4xl font-bold text-white mb-2">TradeFI</h1><p class="text-gray-400">Automated Trading Dashboard</p></div>`),o(V(d,{class:"backdrop-blur-sm bg-gray-800/50 border border-gray-700"},{header:n(((e,l,a,t)=>{if(!l)return[m("div",{class:"text-center"},[m("h2",{class:"text-2xl font-bold text-white"},b(c(C)?"Welcome Back":"Create Account"),1),m("p",{class:"text-sm text-gray-400 mt-1"},b(c(C)?"Sign in to your account":"Get started with TradeFI"),1)])];l(`<div class="text-center"${t}><h2 class="text-2xl font-bold text-white"${t}>${k(c(C)?"Welcome Back":"Create Account")}</h2><p class="text-sm text-gray-400 mt-1"${t}>${k(c(C)?"Sign in to your account":"Get started with TradeFI")}</p></div>`)})),default:n(((e,l,a,t)=>{if(!l)return[m("form",{onSubmit:g(handleSubmit,["prevent"]),class:"space-y-4"},[m(f,{label:"Email",required:""},{default:n((()=>[m(_,{modelValue:c(S),"onUpdate:modelValue":e=>p(S)?S.value=e:null,type:"email",placeholder:"you@example.com",size:"lg",disabled:c(P),autocomplete:"email",class:"w-full",ui:{base:"w-full"}},null,8,["modelValue","onUpdate:modelValue","disabled"])])),_:1}),m(f,{label:"Password",required:""},{default:n((()=>[m(_,{modelValue:c(z),"onUpdate:modelValue":e=>p(z)?z.value=e:null,type:c(I)?"text":"password",placeholder:"••••••••",size:"lg",disabled:c(P),autocomplete:c(C)?"current-password":"new-password"},{trailing:n((()=>[m(U,{icon:c(I)?"i-heroicons-eye-slash":"i-heroicons-eye",variant:"ghost",color:"gray",size:"xs",onClick:e=>I.value=!c(I)},null,8,["icon","onClick"])])),_:1},8,["modelValue","onUpdate:modelValue","type","disabled","autocomplete"])])),_:1}),c(C)?y("",!0):(x(),h(f,{key:0,label:"Confirm Password",required:""},{default:n((()=>[m(_,{modelValue:c(A),"onUpdate:modelValue":e=>p(A)?A.value=e:null,type:c(I)?"text":"password",placeholder:"••••••••",size:"lg",disabled:c(P),autocomplete:"new-password"},null,8,["modelValue","onUpdate:modelValue","type","disabled"])])),_:1})),c(j)?(x(),h("div",{key:1,class:"bg-red-500/10 border border-red-500/50 rounded-lg p-3"},[m("p",{class:"text-sm text-red-400"},b(c(j)),1)])):y("",!0),c(q)?(x(),h("div",{key:2,class:"bg-green-500/10 border border-green-500/50 rounded-lg p-3"},[m("p",{class:"text-sm text-green-400"},b(c(q)),1)])):y("",!0),m(U,{type:"submit",size:"lg",block:"",loading:c(P),class:"bg-blue-600 hover:bg-blue-700 text-white font-semibold"},{default:n((()=>[v(b(c(C)?"Sign In":"Create Account"),1)])),_:1},8,["loading"]),m("div",{class:"text-center pt-2"},[m("button",{type:"button",onClick:toggleMode,class:"text-sm text-gray-400 hover:text-white transition-colors",disabled:c(P)},[v(b(c(C)?"Don't have an account? ":"Already have an account? ")+" ",1),m("span",{class:"text-blue-400 font-semibold"},b(c(C)?"Sign Up":"Sign In"),1)],8,["disabled"])])],32)];l(`<form class="space-y-4"${t}>`),l(V(f,{label:"Email",required:""},{default:n(((e,l,a,t)=>{if(!l)return[m(_,{modelValue:c(S),"onUpdate:modelValue":e=>p(S)?S.value=e:null,type:"email",placeholder:"you@example.com",size:"lg",disabled:c(P),autocomplete:"email",class:"w-full",ui:{base:"w-full"}},null,8,["modelValue","onUpdate:modelValue","disabled"])];l(V(_,{modelValue:c(S),"onUpdate:modelValue":e=>p(S)?S.value=e:null,type:"email",placeholder:"you@example.com",size:"lg",disabled:c(P),autocomplete:"email",class:"w-full",ui:{base:"w-full"}},null,a,t))})),_:1},a,t)),l(V(f,{label:"Password",required:""},{default:n(((e,l,a,t)=>{if(!l)return[m(_,{modelValue:c(z),"onUpdate:modelValue":e=>p(z)?z.value=e:null,type:c(I)?"text":"password",placeholder:"••••••••",size:"lg",disabled:c(P),autocomplete:c(C)?"current-password":"new-password"},{trailing:n((()=>[m(U,{icon:c(I)?"i-heroicons-eye-slash":"i-heroicons-eye",variant:"ghost",color:"gray",size:"xs",onClick:e=>I.value=!c(I)},null,8,["icon","onClick"])])),_:1},8,["modelValue","onUpdate:modelValue","type","disabled","autocomplete"])];l(V(_,{modelValue:c(z),"onUpdate:modelValue":e=>p(z)?z.value=e:null,type:c(I)?"text":"password",placeholder:"••••••••",size:"lg",disabled:c(P),autocomplete:c(C)?"current-password":"new-password"},{trailing:n(((e,l,a,t)=>{if(!l)return[m(U,{icon:c(I)?"i-heroicons-eye-slash":"i-heroicons-eye",variant:"ghost",color:"gray",size:"xs",onClick:e=>I.value=!c(I)},null,8,["icon","onClick"])];l(V(U,{icon:c(I)?"i-heroicons-eye-slash":"i-heroicons-eye",variant:"ghost",color:"gray",size:"xs",onClick:e=>I.value=!c(I)},null,a,t))})),_:1},a,t))})),_:1},a,t)),c(C)?l("\x3c!----\x3e"):l(V(f,{label:"Confirm Password",required:""},{default:n(((e,l,a,t)=>{if(!l)return[m(_,{modelValue:c(A),"onUpdate:modelValue":e=>p(A)?A.value=e:null,type:c(I)?"text":"password",placeholder:"••••••••",size:"lg",disabled:c(P),autocomplete:"new-password"},null,8,["modelValue","onUpdate:modelValue","type","disabled"])];l(V(_,{modelValue:c(A),"onUpdate:modelValue":e=>p(A)?A.value=e:null,type:c(I)?"text":"password",placeholder:"••••••••",size:"lg",disabled:c(P),autocomplete:"new-password"},null,a,t))})),_:1},a,t)),c(j)?l(`<div class="bg-red-500/10 border border-red-500/50 rounded-lg p-3"${t}><p class="text-sm text-red-400"${t}>${k(c(j))}</p></div>`):l("\x3c!----\x3e"),c(q)?l(`<div class="bg-green-500/10 border border-green-500/50 rounded-lg p-3"${t}><p class="text-sm text-green-400"${t}>${k(c(q))}</p></div>`):l("\x3c!----\x3e"),l(V(U,{type:"submit",size:"lg",block:"",loading:c(P),class:"bg-blue-600 hover:bg-blue-700 text-white font-semibold"},{default:n(((e,l,a,t)=>{if(!l)return[v(b(c(C)?"Sign In":"Create Account"),1)];l(`${k(c(C)?"Sign In":"Create Account")}`)})),_:1},a,t)),l(`<div class="text-center pt-2"${t}><button type="button" class="text-sm text-gray-400 hover:text-white transition-colors"${$(c(P))?" disabled":""}${t}>${k(c(C)?"Don't have an account? ":"Already have an account? ")} <span class="text-blue-400 font-semibold"${t}>${k(c(C)?"Sign Up":"Sign In")}</span></button></div></form>`)})),_:1},s)),o('<div class="text-center mt-6 text-sm text-gray-500"><p>Secure authentication powered by Supabase</p></div></div></div>')}}}),U=_.setup;_.setup=(e,l)=>{const a=f();return(a.modules||(a.modules=new Set)).add("pages/login.vue"),U?U(e,l):void 0};export{_ as default};
//# sourceMappingURL=login.vue.mjs.map
