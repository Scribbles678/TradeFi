import{_ as e}from"./Badge.vue.mjs";import{_ as t}from"./Card.vue.mjs";import{c as a}from"./server.mjs";import{defineComponent as r,ref as s,computed as l,mergeProps as o,withCtx as d,createTextVNode as i,toDisplayString as n,createVNode as c,createBlock as x,openBlock as u,Fragment as g,renderList as m,createCommentVNode as p,useSSRContext as v}from"vue";import{ssrRenderAttrs as f,ssrRenderComponent as y,ssrInterpolate as b,ssrRenderClass as h,ssrRenderList as $}from"vue/server-renderer";import"reka-ui";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"@iconify/utils";import"node:crypto";import"consola";import"node:url";import"ipx";import"node:fs";import"node:path";import"vue-router";import"@supabase/ssr";import"@iconify/vue";import"tailwindcss/colors";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"unhead/utils";import"devalue";import"@vueuse/core";import"tailwind-variants";import"@iconify/utils/lib/css/icon";const w=r({__name:"performance",__ssrInlineRender:!0,setup(r){const v=s(!0),w=s([]),k=s({todayPnL:0,winRate:0,totalTrades:0}),_=l((()=>k.value.todayPnL)),F=l((()=>k.value.winRate)),j=l((()=>k.value.totalTrades)),T=l((()=>1.2)),S=l((()=>5.8)),C=l((()=>{if(0===w.value.length)return"0h";const e=w.value.reduce(((e,t)=>{const a=new Date(t.entry_time||t.created_at);return e+(new Date(t.exit_time).getTime()-a.getTime())/36e5}),0)/w.value.length;return e<24?`${e.toFixed(1)}h`:`${(e/24).toFixed(1)}d`})),D=l((()=>"Momentum Strategy")),P=l((()=>w.value.filter((e=>"crypto"===e.asset_class)).reduce(((e,t)=>e+(t.pnl_usd||0)),0))),R=l((()=>w.value.filter((e=>"forex"===e.asset_class)).reduce(((e,t)=>e+(t.pnl_usd||0)),0))),z=l((()=>w.value.filter((e=>"stocks"===e.asset_class)).reduce(((e,t)=>e+(t.pnl_usd||0)),0))),A=l((()=>w.value.filter((e=>"futures"===e.asset_class)).reduce(((e,t)=>e+(t.pnl_usd||0)),0)));function formatTime(e){const t=new Date(e),a=(new Date).getTime()-t.getTime(),r=Math.floor(a/36e5),s=Math.floor(r/24);if(s>0)return`${s}d ago`;if(r>0)return`${r}h ago`;return`${Math.floor(a/6e4)}m ago`}return(r,s,l,k)=>{const M=e,B=t,q=a;s(`<div${f(o({class:"space-y-6"},k))}><div class="flex items-center justify-between"><div><h1 class="text-3xl font-bold text-white">Performance Analytics</h1><p class="text-gray-400 mt-1">Deep dive into your trading performance</p></div>`),s(y(M,{color:v.value?"success":"error",size:"lg"},{default:d(((e,t,a,r)=>{if(!t)return[i(n(v.value?"Connected":"Disconnected"),1)];t(`${b(v.value?"Connected":"Disconnected")}`)})),_:1},l)),s('</div><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">'),s(y(B,null,{default:d(((e,t,a,r)=>{if(!t)return[c("div",{class:"flex items-center justify-between"},[c("div",null,[c("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Total P&L"),c("p",{class:["text-2xl font-bold mt-1",_.value>=0?"text-green-500":"text-red-500"]},n(_.value>=0?"+":"")+"$"+n(_.value.toFixed(2)),3)]),c("div",{class:"p-3 bg-blue-100 dark:bg-blue-900 rounded-full"},[c(q,{name:"i-heroicons-chart-bar",class:"w-6 h-6 text-blue-600"})])])];t(`<div class="flex items-center justify-between"${r}><div${r}><p class="text-sm text-gray-500 dark:text-gray-400"${r}>Total P&amp;L</p><p class="${h(["text-2xl font-bold mt-1",_.value>=0?"text-green-500":"text-red-500"])}"${r}>${b(_.value>=0?"+":"")}$${b(_.value.toFixed(2))}</p></div><div class="p-3 bg-blue-100 dark:bg-blue-900 rounded-full"${r}>`),t(y(q,{name:"i-heroicons-chart-bar",class:"w-6 h-6 text-blue-600"},null,a,r)),t("</div></div>")})),_:1},l)),s(y(B,null,{default:d(((e,t,a,r)=>{if(!t)return[c("div",{class:"flex items-center justify-between"},[c("div",null,[c("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Win Rate"),c("p",{class:"text-2xl font-bold mt-1 text-green-500"},n(F.value.toFixed(1))+"%",1)]),c("div",{class:"p-3 bg-green-100 dark:bg-green-900 rounded-full"},[c(q,{name:"i-heroicons-trophy",class:"w-6 h-6 text-green-600"})])])];t(`<div class="flex items-center justify-between"${r}><div${r}><p class="text-sm text-gray-500 dark:text-gray-400"${r}>Win Rate</p><p class="text-2xl font-bold mt-1 text-green-500"${r}>${b(F.value.toFixed(1))}%</p></div><div class="p-3 bg-green-100 dark:bg-green-900 rounded-full"${r}>`),t(y(q,{name:"i-heroicons-trophy",class:"w-6 h-6 text-green-600"},null,a,r)),t("</div></div>")})),_:1},l)),s(y(B,null,{default:d(((e,t,a,r)=>{if(!t)return[c("div",{class:"flex items-center justify-between"},[c("div",null,[c("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Total Trades"),c("p",{class:"text-2xl font-bold mt-1"},n(j.value),1)]),c("div",{class:"p-3 bg-purple-100 dark:bg-purple-900 rounded-full"},[c(q,{name:"i-heroicons-arrows-right-left",class:"w-6 h-6 text-purple-600"})])])];t(`<div class="flex items-center justify-between"${r}><div${r}><p class="text-sm text-gray-500 dark:text-gray-400"${r}>Total Trades</p><p class="text-2xl font-bold mt-1"${r}>${b(j.value)}</p></div><div class="p-3 bg-purple-100 dark:bg-purple-900 rounded-full"${r}>`),t(y(q,{name:"i-heroicons-arrows-right-left",class:"w-6 h-6 text-purple-600"},null,a,r)),t("</div></div>")})),_:1},l)),s(y(B,null,{default:d(((e,t,a,r)=>{if(!t)return[c("div",{class:"flex items-center justify-between"},[c("div",null,[c("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Best Strategy"),c("p",{class:"text-lg font-bold mt-1 text-yellow-500"},n(D.value||"N/A"),1)]),c("div",{class:"p-3 bg-yellow-100 dark:bg-yellow-900 rounded-full"},[c(q,{name:"i-heroicons-star",class:"w-6 h-6 text-yellow-600"})])])];t(`<div class="flex items-center justify-between"${r}><div${r}><p class="text-sm text-gray-500 dark:text-gray-400"${r}>Best Strategy</p><p class="text-lg font-bold mt-1 text-yellow-500"${r}>${b(D.value||"N/A")}</p></div><div class="p-3 bg-yellow-100 dark:bg-yellow-900 rounded-full"${r}>`),t(y(q,{name:"i-heroicons-star",class:"w-6 h-6 text-yellow-600"},null,a,r)),t("</div></div>")})),_:1},l)),s('</div><div class="grid grid-cols-1 lg:grid-cols-2 gap-6">'),s(y(B,null,{header:d(((e,t,a,r)=>{if(!t)return[c("h3",{class:"text-lg font-semibold"},"Strategy Performance")];t(`<h3 class="text-lg font-semibold"${r}>Strategy Performance</h3>`)})),default:d(((e,t,a,r)=>{if(!t)return[c("div",{class:"h-64 flex items-center justify-center"},[c("div",{class:"text-center"},[c(q,{name:"i-heroicons-chart-pie",class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c("p",{class:"text-gray-500 dark:text-gray-400"},"Strategy performance chart coming soon")])])];t(`<div class="h-64 flex items-center justify-center"${r}><div class="text-center"${r}>`),t(y(q,{name:"i-heroicons-chart-pie",class:"w-16 h-16 text-gray-400 mx-auto mb-4"},null,a,r)),t(`<p class="text-gray-500 dark:text-gray-400"${r}>Strategy performance chart coming soon</p></div></div>`)})),_:1},l)),s(y(B,null,{header:d(((e,t,a,r)=>{if(!t)return[c("div",{class:"flex items-center justify-between"},[c("h3",{class:"text-lg font-semibold"},"Recent Trades"),c(M,{color:"blue",size:"sm"},{default:d((()=>[i(n(w.value.length)+" trades",1)])),_:1})])];t(`<div class="flex items-center justify-between"${r}><h3 class="text-lg font-semibold"${r}>Recent Trades</h3>`),t(y(M,{color:"blue",size:"sm"},{default:d(((e,t,a,r)=>{if(!t)return[i(n(w.value.length)+" trades",1)];t(`${b(w.value.length)} trades`)})),_:1},a,r)),t("</div>")})),default:d(((e,t,a,r)=>{if(!t)return[c("div",{class:"space-y-3 max-h-64 overflow-y-auto"},[(u(!0),x(g,null,m(w.value.slice(0,10),(e=>(u(),x("div",{key:e.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},[c("div",{class:"flex items-center gap-3"},[c(M,{color:"BUY"===e.side?"success":"error",size:"xs"},{default:d((()=>[i(n(e.side),1)])),_:2},1032,["color"]),c("span",{class:"font-mono font-semibold"},n(e.symbol),1),e.exchange?(u(),x(M,{key:0,size:"xs",color:"neutral"},{default:d((()=>[i(n("aster"===e.exchange?"Crypto":"oanda"===e.exchange?"Forex":"tradier"===e.exchange?"Stocks":e.exchange),1)])),_:2},1024)):p("",!0),c("span",{class:"text-sm text-gray-500"},n(formatTime(e.exit_time)),1)]),c("div",{class:"text-right"},[c("div",{class:["font-mono font-semibold",(e.pnl_usd||0)>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"]},n((e.pnl_usd||0)>=0?"+":"")+"$"+n((e.pnl_usd||0).toFixed(2)),3),c("div",{class:"text-xs text-gray-500"},n(e.quantity)+" @ $"+n((e.price||0).toFixed(2)),1)])])))),128))])];t(`<div class="space-y-3 max-h-64 overflow-y-auto"${r}>\x3c!--[--\x3e`),$(w.value.slice(0,10),(e=>{t(`<div class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"${r}><div class="flex items-center gap-3"${r}>`),t(y(M,{color:"BUY"===e.side?"success":"error",size:"xs"},{default:d(((t,a,r,s)=>{if(!a)return[i(n(e.side),1)];a(`${b(e.side)}`)})),_:2},a,r)),t(`<span class="font-mono font-semibold"${r}>${b(e.symbol)}</span>`),e.exchange?t(y(M,{size:"xs",color:"neutral"},{default:d(((t,a,r,s)=>{if(!a)return[i(n("aster"===e.exchange?"Crypto":"oanda"===e.exchange?"Forex":"tradier"===e.exchange?"Stocks":e.exchange),1)];a(`${b("aster"===e.exchange?"Crypto":"oanda"===e.exchange?"Forex":"tradier"===e.exchange?"Stocks":e.exchange)}`)})),_:2},a,r)):t("\x3c!----\x3e"),t(`<span class="text-sm text-gray-500"${r}>${b(formatTime(e.exit_time))}</span></div><div class="text-right"${r}><div class="${h(["font-mono font-semibold",(e.pnl_usd||0)>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])}"${r}>${b((e.pnl_usd||0)>=0?"+":"")}$${b((e.pnl_usd||0).toFixed(2))}</div><div class="text-xs text-gray-500"${r}>${b(e.quantity)} @ $${b((e.price||0).toFixed(2))}</div></div></div>`)})),t("\x3c!--]--\x3e</div>")})),_:1},l)),s('</div><div class="grid grid-cols-1 md:grid-cols-3 gap-4">'),s(y(B,null,{default:d(((e,t,a,r)=>{if(!t)return[c("div",{class:"text-center"},[c(q,{name:"i-heroicons-chart-bar-square",class:"w-8 h-8 text-blue-500 mx-auto mb-2"}),c("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Sharpe Ratio"),c("p",{class:"text-xl font-bold text-blue-500"},n(T.value.toFixed(2)),1)])];t(`<div class="text-center"${r}>`),t(y(q,{name:"i-heroicons-chart-bar-square",class:"w-8 h-8 text-blue-500 mx-auto mb-2"},null,a,r)),t(`<p class="text-sm text-gray-500 dark:text-gray-400"${r}>Sharpe Ratio</p><p class="text-xl font-bold text-blue-500"${r}>${b(T.value.toFixed(2))}</p></div>`)})),_:1},l)),s(y(B,null,{default:d(((e,t,a,r)=>{if(!t)return[c("div",{class:"text-center"},[c(q,{name:"i-heroicons-arrow-trending-down",class:"w-8 h-8 text-red-500 mx-auto mb-2"}),c("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Max Drawdown"),c("p",{class:"text-xl font-bold text-red-500"},n(S.value.toFixed(2))+"%",1)])];t(`<div class="text-center"${r}>`),t(y(q,{name:"i-heroicons-arrow-trending-down",class:"w-8 h-8 text-red-500 mx-auto mb-2"},null,a,r)),t(`<p class="text-sm text-gray-500 dark:text-gray-400"${r}>Max Drawdown</p><p class="text-xl font-bold text-red-500"${r}>${b(S.value.toFixed(2))}%</p></div>`)})),_:1},l)),s(y(B,null,{default:d(((e,t,a,r)=>{if(!t)return[c("div",{class:"text-center"},[c(q,{name:"i-heroicons-clock",class:"w-8 h-8 text-purple-500 mx-auto mb-2"}),c("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Avg Hold Time"),c("p",{class:"text-xl font-bold text-purple-500"},n(C.value),1)])];t(`<div class="text-center"${r}>`),t(y(q,{name:"i-heroicons-clock",class:"w-8 h-8 text-purple-500 mx-auto mb-2"},null,a,r)),t(`<p class="text-sm text-gray-500 dark:text-gray-400"${r}>Avg Hold Time</p><p class="text-xl font-bold text-purple-500"${r}>${b(C.value)}</p></div>`)})),_:1},l)),s("</div>"),s(y(B,null,{header:d(((e,t,a,r)=>{if(!t)return[c("h3",{class:"text-lg font-semibold"},"Asset Class Performance")];t(`<h3 class="text-lg font-semibold"${r}>Asset Class Performance</h3>`)})),default:d(((e,t,a,r)=>{if(!t)return[c("div",{class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},[c("div",{class:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg"},[c(q,{name:"i-heroicons-currency-dollar",class:"w-8 h-8 text-green-500 mx-auto mb-2"}),c("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Crypto"),c("p",{class:["text-lg font-bold",P.value>=0?"text-green-500":"text-red-500"]},n(P.value>=0?"+":"")+"$"+n(P.value.toFixed(2)),3)]),c("div",{class:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg"},[c(q,{name:"i-heroicons-globe-alt",class:"w-8 h-8 text-blue-500 mx-auto mb-2"}),c("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Forex"),c("p",{class:["text-lg font-bold",R.value>=0?"text-green-500":"text-red-500"]},n(R.value>=0?"+":"")+"$"+n(R.value.toFixed(2)),3)]),c("div",{class:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg"},[c(q,{name:"i-heroicons-building-office",class:"w-8 h-8 text-purple-500 mx-auto mb-2"}),c("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Stocks"),c("p",{class:["text-lg font-bold",z.value>=0?"text-green-500":"text-red-500"]},n(z.value>=0?"+":"")+"$"+n(z.value.toFixed(2)),3)]),c("div",{class:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg"},[c(q,{name:"i-heroicons-chart-line",class:"w-8 h-8 text-indigo-500 mx-auto mb-2"}),c("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Futures"),c("p",{class:["text-lg font-bold",A.value>=0?"text-green-500":"text-red-500"]},n(A.value>=0?"+":"")+"$"+n(A.value.toFixed(2)),3)])])];t(`<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"${r}><div class="text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg"${r}>`),t(y(q,{name:"i-heroicons-currency-dollar",class:"w-8 h-8 text-green-500 mx-auto mb-2"},null,a,r)),t(`<p class="text-sm text-gray-500 dark:text-gray-400"${r}>Crypto</p><p class="${h(["text-lg font-bold",P.value>=0?"text-green-500":"text-red-500"])}"${r}>${b(P.value>=0?"+":"")}$${b(P.value.toFixed(2))}</p></div><div class="text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg"${r}>`),t(y(q,{name:"i-heroicons-globe-alt",class:"w-8 h-8 text-blue-500 mx-auto mb-2"},null,a,r)),t(`<p class="text-sm text-gray-500 dark:text-gray-400"${r}>Forex</p><p class="${h(["text-lg font-bold",R.value>=0?"text-green-500":"text-red-500"])}"${r}>${b(R.value>=0?"+":"")}$${b(R.value.toFixed(2))}</p></div><div class="text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg"${r}>`),t(y(q,{name:"i-heroicons-building-office",class:"w-8 h-8 text-purple-500 mx-auto mb-2"},null,a,r)),t(`<p class="text-sm text-gray-500 dark:text-gray-400"${r}>Stocks</p><p class="${h(["text-lg font-bold",z.value>=0?"text-green-500":"text-red-500"])}"${r}>${b(z.value>=0?"+":"")}$${b(z.value.toFixed(2))}</p></div><div class="text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg"${r}>`),t(y(q,{name:"i-heroicons-chart-line",class:"w-8 h-8 text-indigo-500 mx-auto mb-2"},null,a,r)),t(`<p class="text-sm text-gray-500 dark:text-gray-400"${r}>Futures</p><p class="${h(["text-lg font-bold",A.value>=0?"text-green-500":"text-red-500"])}"${r}>${b(A.value>=0?"+":"")}$${b(A.value.toFixed(2))}</p></div></div>`)})),_:1},l)),s("</div>")}}}),k=w.setup;w.setup=(e,t)=>{const a=v();return(a.modules||(a.modules=new Set)).add("pages/performance.vue"),k?k(e,t):void 0};export{w as default};
//# sourceMappingURL=performance.vue.mjs.map
