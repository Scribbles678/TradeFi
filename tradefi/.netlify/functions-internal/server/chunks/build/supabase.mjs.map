{"version":3,"file":"supabase.mjs","sources":["../../../../../app/utils/supabase.ts"],"sourcesContent":null,"names":["supabaseClient","useSupabaseClient","config","useRuntimeConfig","url","public","supabaseUrl","key","supabaseKey","Error","assertSupabaseEnv","createClient","async","getOpenPositions","assetClass","query","from","select","eq","data","error","order","ascending","console","log","dataCount","length","message","getRecentTrades","limit","getCumulativePnL","days","startDate","Date","setDate","getDate","toISOString","gte","map","t","symbol","exit_time","pnl_usd","asset_class","exchange","cumulative","result","trade","date","toLocaleDateString","cumulative_pnl","parseFloat","toFixed","_a","getTodaysStats","todaysTrades","today","setHours","getTodaysTrades","todayPnL","winRate","totalTrades","id","entry_price","exit_price","quantity","side","position_size_usd","notes","suspiciousTrades","filter","Math","abs","warn","calculated_pnl","reduce","sum","pnl","winners","is_winner","getStrategies","createStrategy","strategy","supabase","insert","single","updateStrategy","updates","update","deleteStrategy","delete","details","hint","code","getStrategyPnL","strategyId","totalPnL","toggleStrategyStatus","getStrategy","newStatus","status"],"mappings":"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"}