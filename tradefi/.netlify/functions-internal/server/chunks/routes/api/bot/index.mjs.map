{"version":3,"file":"index.mjs","sources":["../../../../../../../server/api/bot/credentials/index.ts"],"sourcesContent":null,"names":["index","defineEventHandler","async","event","method","getMethod","supabase","useServiceSupabaseClient","user","context","createError","statusCode","statusMessage","data","error","from","select","eq","id","order","ascending","message","payload","readBody","exchange","normalized","defaultLabel","toUpperCase","fields","label","environment","account_id","accountId","api_key","apiKey","api_secret","apiSecret","passphrase","webhook_secret","webhookSecret","extra_metadata","extraMetadata","normalizePayload","existing","maybeSingle","upsertResult","update","updated_at","Date","toISOString","single","insert","user_id","success","credential","query","getQuery","delete"],"mappings":"sVAgBA,MAAAA,EAAeC,GAAmBC,MAAOC,IACjC,MAAAC,EAASC,EAAUF,GACnBG,EAAWC,IACXC,EAAOL,EAAMM,QAAQD,KAG3B,IAAKA,EACH,MAAME,EAAY,CAChBC,WAAY,IACZC,cAAe,iBAInB,OAAQR,GACN,IAAK,MAAO,CACJ,MAAAS,KAAEA,QAAMC,SAAgBR,EAC3BS,KAAK,mBACLC,OAAO,KACPC,GAAG,UAAWT,EAAKU,IACnBC,MAAM,QAAS,CAAEC,WAAW,IAE/B,GAAIN,EACF,MAAMJ,EAAY,CAChBC,WAAY,IACZC,cAAe,iCACfC,KAAMC,EAAMO,UAIhB,MAAO,CAAER,OAAK,CAGhB,IAAK,OAAQ,CACL,MAAAS,QAAgBC,EAA+BpB,GAEjD,WAACmB,WAASE,UACZ,MAAMd,EAAY,CAChBC,WAAY,IACZC,cAAe,yBAIb,MAAAa,EAgGZ,SAA0BH,GAClB,MAAAI,EAAoC,YAArBJ,EAAQE,SACzB,sBACA,GAAGF,EAAQE,SAASG,wBAEjB,MAAA,CACLH,SAAUF,EAAQE,SAClBI,OAAQ,CACNC,MAAOP,EAAQO,OAASH,EACxBI,YAAaR,EAAQQ,aAAe,aACpCC,WAAYT,EAAQU,WAAa,KACjCC,QAASX,EAAQY,QAAU,KAC3BC,WAAYb,EAAQc,WAAa,KACjCC,WAAYf,EAAQe,YAAc,KAClCC,eAAgBhB,EAAQiB,eAAiB,KACzCC,eAAgBlB,EAAQmB,eAAiB,CAAA,GAG/C,CAlHyBC,CAAiBpB,IAE5BT,KAAM8B,SAAmBrC,EAC9BS,KAAK,mBACLC,OAAO,KACPC,GAAG,WAAYQ,EAAWD,UAC1BP,GAAG,UAAWT,EAAKU,IACnB0B,cAEC,IAAAC,EAEJ,GAAIF,EAAU,CACN,MAAA9B,KAAEA,QAAMC,SAAgBR,EAC3BS,KAAK,mBACL+B,OAAO,IACHrB,EAAWG,OACdmB,YAAY,IAAIC,MAAOC,gBAExBhC,GAAG,KAAM0B,EAASzB,IAClBD,GAAG,UAAWT,EAAKU,IACnBF,SACAkC,SAEH,GAAIpC,EACF,MAAMJ,EAAY,CAChBC,WAAY,IACZC,cAAe,8BACfC,KAAMC,EAAMO,UAIDwB,EAAAhC,CAAA,KACV,CACC,MAAAA,KAAEA,QAAMC,SAAeR,EAC1BS,KAAK,mBACLoC,OAAO,CACN3B,SAAUC,EAAWD,SACrB4B,QAAS5C,EAAKU,MACXO,EAAWG,SAEfZ,SACAkC,SAEH,GAAIpC,EACF,MAAMJ,EAAY,CAChBC,WAAY,IACZC,cAAe,8BACfC,KAAMC,EAAMO,UAIDwB,EAAAhC,CAAA,CAGV,MAAA,CACLwC,SAAS,EACTC,WAAYT,EACd,CAGF,IAAK,SAAU,CACP,MAAAU,EAAQC,EAASrD,GACjBqB,EAAqC,iBAAnB+B,EAAM/B,SAAwB+B,EAAM/B,SAAW,KAEvE,IAAKA,EACH,MAAMd,EAAY,CAChBC,WAAY,IACZC,cAAe,yCAInB,MAAME,MAAEA,SAAgBR,EACrBS,KAAK,mBACL0C,SACAxC,GAAG,WAAYO,GACfP,GAAG,UAAWT,EAAKU,IAEtB,GAAIJ,EACF,MAAMJ,EAAY,CAChBC,WAAY,IACZC,cAAe,8BACfC,KAAMC,EAAMO,UAIT,MAAA,CAAEgC,SAAS,EAAK,CAGzB,QACE,MAAM3C,EAAY,CAChBC,WAAY,IACZC,cAAe,uBAChB"}